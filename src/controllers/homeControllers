const express = require("express");

// nơi xử lí logic
const connection = require("../config/database");
const handleGetHomePage = (req, res) => {
  return res.render("home.ejs");
};
const handleGetAbc = (req, res) => {
  res.send("my name is phuoc ");
};
const postCreateUser = async (req, res) => {
  let { email, createName, city } = req.body;
  console.log(email, createName, city);
  let [results, fields] = await connection.query(
    `insert into users (email,name, city) values (?, ?, ?);`,
    [email, createName, city]
  );
  console.log(results)
  res.send("create new user")
};
const getCreateHome = (req, res) => {
  res.render("create.ejs");
};
//express.json() convert các kiểu dữ liệu của bạn sang kiểu json object của javascript
// đọc trên express.json()
module.exports = { handleGetHomePage, handleGetAbc, postCreateUser, getCreateHome };
